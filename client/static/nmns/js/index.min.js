!function(t){var o=document.documentMode?0:1e3;function i(e){""!==t(".loginPage form:visible input[name='email']").val()&&t(".loginPage form:hidden input[name='email']").val(t(".loginPage form:visible input[name='email']").val()),t(".loginPage form").not(".signupForm").animate({height:"toggle",opacity:"toggle"},"slow",null,e)}t('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=t(this.hash);if((e=e.length?e:t("[name="+this.hash.slice(1)+"]")).length)return t("html, body").animate({scrollTop:e.offset().top-60},o,"easeInOutExpo"),!1}}),t(document).scroll(function(){100<t(this).scrollTop()?t(".scroll-to-top").fadeIn():t(".scroll-to-top").fadeOut()}),t(".js-scroll-trigger").click(function(){t(".navbar-collapse").hasClass("show")&&t(".navbar-collapse").collapse("hide")}),t("body").scrollspy({target:"#mainNav",offset:80}),t(document).ready(function(){t.validator.addMethod("passwordCheck",function(e,i){return/\W+/.test(e)&&/[0-9]+/.test(e)},"비밀번호는 하나 이상의 숫자와 특수문자를 포함해야합니다."),t(".signinForm").validate({rules:{email:{required:!0,email:!0},password:{required:!0}},messages:{email:{required:"이메일을 입력해주세요.",email:"올바른 이메일을 입력해주세요."},password:"비밀번호를 입력해주세요."},errorElement:"p",errorClass:"message text-danger my-1",onfocusout:!1,focusCleanup:!0}),t(".resetForm").validate({rules:{email:{required:!0,email:!0}},messages:{email:{required:"이메일을 입력해주세요.",email:"올바른 이메일을 입력해주세요."}},errorElement:"p",errorClass:"message text-danger my-1",onfocusout:!1,focusCleanup:!0})}),t("#signinLink").off("click touch").on("click touch",function(e){var i,n;e.preventDefault(),t(".navbar-collapse").hasClass("show")&&t(".navbar-collapse").collapse("hide"),t(".loginPage form:visible").hasClass("signinForm")?(t(".loginPage:visible .signinBtn").is(":visible")||t(".message a.returnSignin").trigger("click"),t("html").animate({scrollTop:document.documentElement.scrollTop+t(".loginPage:visible")[0].getBoundingClientRect().top-t("#mainNav").height()},o,"easeInOutExpo"),t(".loginPage:visible .signinForm input[name='email']").focus()):(n=!0,i=function(){n?n=!1:(t(".loginPage form:visible .signinBtn").length||t(".message a.returnSignin").trigger("click"),t("html").animate({scrollTop:document.documentElement.scrollTop+t(".loginPage:visible")[0].getBoundingClientRect().top-t("#mainNav").height()},o,"easeInOutExpo"),t(".loginPage:visible .signinForm input[name='email']").focus())},""!==t(".loginPage form:visible input[name='email']").val()&&t(".loginPage form:hidden input[name='email']").val(t(".loginPage form:visible input[name='email']").val()),t(".loginPage form:visible, .loginPage .signinForm").animate({height:"toggle",opacity:"toggle"},"slow",null,i))}),t(".signinBtn").off("click touch").on("click touch",function(e){e.preventDefault(),t(this).parents(".signinForm").valid()&&t(this).parents(".signinForm").submit()}),t(".message a.passwordReset").off("click touch").on("click touch",function(e){e.preventDefault(),i(function(){t("html").animate({scrollTop:document.documentElement.scrollTop+t(".loginPage:visible")[0].getBoundingClientRect().top-t("#mainNav").height()},o,"easeInOutExpo"),t(".loginPage .resetForm:visible").find("input[name='email']").focus()})}),t(".message a.returnSignin").off("click touch").on("click touch",function(e){e.preventDefault(),i(function(){t("html").animate({scrollTop:document.documentElement.scrollTop+t(".loginPage:visible")[0].getBoundingClientRect().top-t("#mainNav").height()},o,"easeInOutExpo"),t(".loginPage .signinForm:visible").find("input[name='email']").focus()})}),t(".resetBtn").off("click touch").on("touch click",function(e){e.preventDefault(),e.stopPropagation(),t(this).parents(".resetForm").valid()&&t.post("/resetPassword",{email:t(this).prev().val()}).done(function(){alert("비밀번호 초기화 메일을 보냈습니다. 메일을 확인해주세요!")}).fail(function(e){e&&404===e.status?alert("등록되지 않은 이메일입니다. 이메일 주소를 확인해주세요!"):alert("메일 보내기에 실패했습니다. 다시 시도해주세요!")})}),t("#copyEmail").on("touch click",function(e){e.preventDefault();var i=document.createRange();i.selectNodeContents(t(this)[0]);var n=window.getSelection?window.getSelection():document.selection;n.removeAllRanges(),n.addRange(i);var o="";return o=document.execCommand("copy")?"메일주소가 복사되었습니다.":"메일주소를 복사하지 못했습니다. 직접 선택하여 복사해주세요.",t(this).attr("title",o).tooltip({trigger:"manual",delay:{hide:1e3}}),t(this).tooltip("show"),setTimeout(function(){t("#copyEmail").attr("title","메일주소 복사").tooltip("dispose")},1500),n.empty?n.empty():n.removeAllRanges&&n.removeAllRanges(),!1}),t(".openAppLink").off("touch click").on("touch click",function(e){var i=navigator.userAgent.toLocaleLowerCase();-1<i.indexOf("android")||(-1<i.indexOf("ipod")||-1<i.indexOf("iphone")||-1<i.indexOf("ipad"))&&window.open(t(this).data("ios"),"_system")}),t(".navbar-collapse").on("show.bs.collapse",function(){t("#mainNav").removeClass("collapsed")}).on("hidden.bs.collapse",function(){t("#mainNav").addClass("collapsed")})}(jQuery);