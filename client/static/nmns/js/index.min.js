!function(n){var o=document.documentMode?0:1e3;function t(e){""!==n(".loginPage form:visible input[name='email']").val()&&n(".loginPage form:hidden input[name='email']").val(n(".loginPage form:visible input[name='email']").val()),n(".loginPage form:visible, .loginPage .signinForm").animate({height:"toggle",opacity:"toggle"},"slow",null,e)}function a(e){""!==n(".loginPage form:visible input[name='email']").val()&&n(".loginPage form:hidden input[name='email']").val(n(".loginPage form:visible input[name='email']").val()),n(".loginPage form:visible, .loginPage .signupForm").animate({height:"toggle",opacity:"toggle"},"slow",null,e)}function i(e){""!==n(".loginPage form:visible input[name='email']").val()&&n(".loginPage form:hidden input[name='email']").val(n(".loginPage form:visible input[name='email']").val()),n(".loginPage form").not(".signupForm").animate({height:"toggle",opacity:"toggle"},"slow",null,e)}n('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=n(this.hash);if((e=e.length?e:n("[name="+this.hash.slice(1)+"]")).length)return n("html, body").animate({scrollTop:e.offset().top-60},o,"easeInOutExpo"),!1}}),n(document).scroll(function(){100<n(this).scrollTop()?n(".scroll-to-top").fadeIn():n(".scroll-to-top").fadeOut()}),n(".js-scroll-trigger").click(function(){n(".navbar-collapse").hasClass("show")&&n(".navbar-collapse").collapse("hide")}),n("body").scrollspy({target:"#mainNav",offset:80}),n(document).ready(function(){n.validator.addMethod("passwordCheck",function(e,i){return/\W+/.test(e)&&/[0-9]+/.test(e)},"비밀번호는 하나 이상의 숫자와 특수문자를 포함해야합니다."),n(".signinForm").validate({rules:{email:{required:!0,email:!0},password:{required:!0}},messages:{email:{required:"이메일을 입력해주세요.",email:"올바른 이메일을 입력해주세요."},password:"비밀번호를 입력해주세요."},errorElement:"p",errorClass:"message text-danger my-1",onfocusout:!1,focusCleanup:!0}),n(".resetForm").validate({rules:{email:{required:!0,email:!0}},messages:{email:{required:"이메일을 입력해주세요.",email:"올바른 이메일을 입력해주세요."}},errorElement:"p",errorClass:"message text-danger my-1",onfocusout:!1,focusCleanup:!0}),n(".loginPage.my-auto .signupForm").validate({rules:{email:{required:!0,email:!0},password:{required:!0,minlength:8,maxlength:30,passwordCheck:!0},passwordRepeat:{equalTo:"#signupPassword"}},messages:{email:{required:"이메일을 입력해주세요.",email:"올바른 이메일을 입력해주세요."},password:{required:"비밀번호를 입력해주세요.",minlength:"비밀번호는 최소 8자리 이상입니다.",maxlength:"비밀번호는 최대 30자리 이내입니다."},passwordRepeat:"비밀번호가 일치하지 않습니다."},errorElement:"p",errorClass:"message text-danger my-1",onfocusout:!1,focusCleanup:!0}),n(".loginPage.d-md-none .signupForm").validate({rules:{email:{required:!0,email:!0},password:{required:!0,minlength:8,maxlength:30,passwordCheck:!0},passwordRepeat:{equalTo:"#signupPassword2"}},messages:{email:{required:"이메일을 입력해주세요.",email:"올바른 이메일을 입력해주세요."},password:{required:"비밀번호를 입력해주세요.",minlength:"비밀번호는 최소 8자리 이상입니다.",maxlength:"비밀번호는 최대 30자리 이내입니다."},passwordRepeat:"비밀번호가 일치하지 않습니다."},errorElement:"p",errorClass:"message text-danger my-1",onfocusout:!1,focusCleanup:!0})}),n("#signupLink").off("click touch").on("click touch",function(e){var i;e.preventDefault(),n(".navbar-collapse").hasClass("show")&&n(".navbar-collapse").collapse("hide"),n(".loginPage form:visible").hasClass("signupForm")?(n("html").animate({scrollTop:document.documentElement.scrollTop+n(".loginPage:visible")[0].getBoundingClientRect().top-n("#mainNav").height()},o,"easeInOutExpo"),n(".loginPage:visible .signupForm input[name='email']").focus()):a((i=!0,function(){i?i=!1:(n("html").animate({scrollTop:document.documentElement.scrollTop+n(".loginPage:visible")[0].getBoundingClientRect().top-n("#mainNav").height()},o,"easeInOutExpo"),n(".loginPage:visible .signupForm input[name='email']").focus())}))}),n("#signinLink").off("click touch").on("click touch",function(e){var i;e.preventDefault(),n(".navbar-collapse").hasClass("show")&&n(".navbar-collapse").collapse("hide"),n(".loginPage form:visible").hasClass("signinForm")?(n(".loginPage:visible .signinBtn").is(":visible")||n(".message a.returnSignin").trigger("click"),n("html").animate({scrollTop:document.documentElement.scrollTop+n(".loginPage:visible")[0].getBoundingClientRect().top-n("#mainNav").height()},o,"easeInOutExpo"),n(".loginPage:visible .signinForm input[name='email']").focus()):t((i=!0,function(){i?i=!1:(n(".loginPage form:visible .signinBtn").length||n(".message a.returnSignin").trigger("click"),n("html").animate({scrollTop:document.documentElement.scrollTop+n(".loginPage:visible")[0].getBoundingClientRect().top-n("#mainNav").height()},o,"easeInOutExpo"),n(".loginPage:visible .signinForm input[name='email']").focus())}))}),n(".signinBtn").off("click touch").on("click touch",function(e){e.preventDefault(),n(this).parents(".signinForm").valid()&&n(this).parents(".signinForm").submit()}),n(".signupBtn").off("click touch").on("click touch",function(e){if(e.preventDefault(),n("#agreeContract").next().is(":visible")&&!n("#agreeContract").prop("checked")||n("#agreeContract2").next().is(":visible")&&!n("#agreeContract2").prop("checked"))return alert("이용약관에 동의해주세요!"),!1;n(this).parents(".signupForm").valid()&&n(this).parents(".signupForm").submit()}),n(".message .switchSigninForm").each(function(){n(this).off("click touch").on("click touch",function(e){e.preventDefault(),t(function(){n("html").animate({scrollTop:document.documentElement.scrollTop+n(".loginPage:visible")[0].getBoundingClientRect().top-n("#mainNav").height()},o,"easeInOutExpo"),n(".loginPage .signinForm:visible").find("input[name='email']").focus()})})}),n(".message .switchSignupForm").each(function(){n(this).off("click touch").on("click touch",function(e){e.preventDefault(),a(function(){n("html").animate({scrollTop:document.documentElement.scrollTop+n(".loginPage:visible")[0].getBoundingClientRect().top-n("#mainNav").height()},o,"easeInOutExpo"),n(".loginPage .signupForm:visible").find("input[name='email']").focus()})})}),n(".message a.passwordReset").off("click touch").on("click touch",function(e){e.preventDefault(),i(function(){n("html").animate({scrollTop:document.documentElement.scrollTop+n(".loginPage:visible")[0].getBoundingClientRect().top-n("#mainNav").height()},o,"easeInOutExpo"),n(".loginPage .resetForm:visible").find("input[name='email']").focus()})}),n(".message a.returnSignin").off("click touch").on("click touch",function(e){e.preventDefault(),i(function(){n("html").animate({scrollTop:document.documentElement.scrollTop+n(".loginPage:visible")[0].getBoundingClientRect().top-n("#mainNav").height()},o,"easeInOutExpo"),n(".loginPage .signinForm:visible").find("input[name='email']").focus()})}),n(".resetBtn").off("click touch").on("touch click",function(e){e.preventDefault(),e.stopPropagation(),n(this).parents(".resetForm").valid()&&n.post("/resetPassword",{email:n(this).prev().val()}).done(function(){alert("비밀번호 초기화 메일을 보냈습니다. 메일을 확인해주세요!")}).fail(function(e){e&&404===e.status?alert("등록되지 않은 이메일입니다. 이메일 주소를 확인해주세요!"):alert("메일 보내기에 실패했습니다. 다시 시도해주세요!")})}),n(".contract").off("touch click").on("touch click",function(e){e.preventDefault();var i=n(this).parent().parent().next();""===i.html()&&i.html(n("<small></small>").html(n("#contractText").html())),i.data("scroll")||i.data("scroll",new PerfectScrollbar(i[0])),i.toggle()})}(jQuery);