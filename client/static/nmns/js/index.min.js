!function(o){var i=document.documentMode?0:1e3;function t(e){""!==o(".loginPage form:visible input[name='email']").val()&&o(".loginPage form:hidden input[name='email']").val(o(".loginPage form:visible input[name='email']").val()),o(".loginPage form:visible, .loginPage .signinForm").animate({height:"toggle",opacity:"toggle"},"slow",null,e)}function a(e){""!==o(".loginPage form:visible input[name='email']").val()&&o(".loginPage form:hidden input[name='email']").val(o(".loginPage form:visible input[name='email']").val()),o(".loginPage form:visible, .loginPage .signupForm").animate({height:"toggle",opacity:"toggle"},"slow",null,e)}function n(e){""!==o(".loginPage form:visible input[name='email']").val()&&o(".loginPage form:hidden input[name='email']").val(o(".loginPage form:visible input[name='email']").val()),o(".loginPage form").not(".signupForm").animate({height:"toggle",opacity:"toggle"},"slow",null,e)}o('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=o(this.hash);if((e=e.length?e:o("[name="+this.hash.slice(1)+"]")).length)return o("html, body").animate({scrollTop:e.offset().top-60},i,"easeInOutExpo"),!1}}),o(document).scroll(function(){100<o(this).scrollTop()?o(".scroll-to-top").fadeIn():o(".scroll-to-top").fadeOut()}),o(".js-scroll-trigger").click(function(){o(".navbar-collapse").hasClass("show")&&o(".navbar-collapse").collapse("hide")}),o("body").scrollspy({target:"#mainNav",offset:80}),o(document).ready(function(){o.validator.addMethod("passwordCheck",function(e,n){return/\W+/.test(e)&&/[0-9]+/.test(e)},"비밀번호는 하나 이상의 숫자와 특수문자를 포함해야합니다."),o(".signinForm").validate({rules:{email:{required:!0,email:!0},password:{required:!0}},messages:{email:{required:"이메일을 입력해주세요.",email:"올바른 이메일을 입력해주세요."},password:"비밀번호를 입력해주세요."},errorElement:"p",errorClass:"message text-danger my-1",onfocusout:!1,focusCleanup:!0}),o(".resetForm").validate({rules:{email:{required:!0,email:!0}},messages:{email:{required:"이메일을 입력해주세요.",email:"올바른 이메일을 입력해주세요."}},errorElement:"p",errorClass:"message text-danger my-1",onfocusout:!1,focusCleanup:!0}),o(".loginPage.my-auto .signupForm").validate({rules:{email:{required:!0,email:!0},password:{required:!0,minlength:8,maxlength:30,passwordCheck:!0},passwordRepeat:{equalTo:"#signupPassword"}},messages:{email:{required:"이메일을 입력해주세요.",email:"올바른 이메일을 입력해주세요."},password:{required:"비밀번호를 입력해주세요.",minlength:"비밀번호는 최소 8자리 이상입니다.",maxlength:"비밀번호는 최대 30자리 이내입니다."},passwordRepeat:"비밀번호가 일치하지 않습니다."},errorElement:"p",errorClass:"message text-danger my-1",onfocusout:!1,focusCleanup:!0}),o(".loginPage.d-md-none .signupForm").validate({rules:{email:{required:!0,email:!0},password:{required:!0,minlength:8,maxlength:30,passwordCheck:!0},passwordRepeat:{equalTo:"#signupPassword2"}},messages:{email:{required:"이메일을 입력해주세요.",email:"올바른 이메일을 입력해주세요."},password:{required:"비밀번호를 입력해주세요.",minlength:"비밀번호는 최소 8자리 이상입니다.",maxlength:"비밀번호는 최대 30자리 이내입니다."},passwordRepeat:"비밀번호가 일치하지 않습니다."},errorElement:"p",errorClass:"message text-danger my-1",onfocusout:!1,focusCleanup:!0})}),o("#signupLink").off("click touch").on("click touch",function(e){var n;e.preventDefault(),o(".navbar-collapse").hasClass("show")&&o(".navbar-collapse").collapse("hide"),o(".loginPage form:visible").hasClass("signupForm")?(o("html").animate({scrollTop:document.documentElement.scrollTop+o(".loginPage:visible")[0].getBoundingClientRect().top-o("#mainNav").height()},i,"easeInOutExpo"),o(".loginPage:visible .signupForm input[name='email']").focus()):a((n=!0,function(){n?n=!1:(o("html").animate({scrollTop:document.documentElement.scrollTop+o(".loginPage:visible")[0].getBoundingClientRect().top-o("#mainNav").height()},i,"easeInOutExpo"),o(".loginPage:visible .signupForm input[name='email']").focus())}))}),o("#signinLink").off("click touch").on("click touch",function(e){var n;e.preventDefault(),o(".navbar-collapse").hasClass("show")&&o(".navbar-collapse").collapse("hide"),o(".loginPage form:visible").hasClass("signinForm")?(o(".loginPage:visible .signinBtn").is(":visible")||o(".message a.returnSignin").trigger("click"),o("html").animate({scrollTop:document.documentElement.scrollTop+o(".loginPage:visible")[0].getBoundingClientRect().top-o("#mainNav").height()},i,"easeInOutExpo"),o(".loginPage:visible .signinForm input[name='email']").focus()):t((n=!0,function(){n?n=!1:(o(".loginPage form:visible .signinBtn").length||o(".message a.returnSignin").trigger("click"),o("html").animate({scrollTop:document.documentElement.scrollTop+o(".loginPage:visible")[0].getBoundingClientRect().top-o("#mainNav").height()},i,"easeInOutExpo"),o(".loginPage:visible .signinForm input[name='email']").focus())}))}),o(".signinBtn").off("click touch").on("click touch",function(e){e.preventDefault(),o(this).parents(".signinForm").valid()&&o(this).parents(".signinForm").submit()}),o(".signupBtn").off("click touch").on("click touch",function(e){if(e.preventDefault(),o("#agreeContract").next().is(":visible")&&!o("#agreeContract").prop("checked")||o("#agreeContract2").next().is(":visible")&&!o("#agreeContract2").prop("checked"))return alert("이용약관에 동의해주세요!"),!1;o(this).parents(".signupForm").valid()&&o(this).parents(".signupForm").submit()}),o(".message .switchSigninForm").each(function(){o(this).off("click touch").on("click touch",function(e){e.preventDefault(),t(function(){o("html").animate({scrollTop:document.documentElement.scrollTop+o(".loginPage:visible")[0].getBoundingClientRect().top-o("#mainNav").height()},i,"easeInOutExpo"),o(".loginPage .signinForm:visible").find("input[name='email']").focus()})})}),o(".message .switchSignupForm").each(function(){o(this).off("click touch").on("click touch",function(e){e.preventDefault(),a(function(){o("html").animate({scrollTop:document.documentElement.scrollTop+o(".loginPage:visible")[0].getBoundingClientRect().top-o("#mainNav").height()},i,"easeInOutExpo"),o(".loginPage .signupForm:visible").find("input[name='email']").focus()})})}),o(".message a.passwordReset").off("click touch").on("click touch",function(e){e.preventDefault(),n(function(){o("html").animate({scrollTop:document.documentElement.scrollTop+o(".loginPage:visible")[0].getBoundingClientRect().top-o("#mainNav").height()},i,"easeInOutExpo"),o(".loginPage .resetForm:visible").find("input[name='email']").focus()})}),o(".message a.returnSignin").off("click touch").on("click touch",function(e){e.preventDefault(),n(function(){o("html").animate({scrollTop:document.documentElement.scrollTop+o(".loginPage:visible")[0].getBoundingClientRect().top-o("#mainNav").height()},i,"easeInOutExpo"),o(".loginPage .signinForm:visible").find("input[name='email']").focus()})}),o(".resetBtn").off("click touch").on("touch click",function(e){e.preventDefault(),e.stopPropagation(),o(this).parents(".resetForm").valid()&&o.post("/resetPassword",{email:o(this).prev().val()}).done(function(){alert("비밀번호 초기화 메일을 보냈습니다. 메일을 확인해주세요!")}).fail(function(e){e&&404===e.status?alert("등록되지 않은 이메일입니다. 이메일 주소를 확인해주세요!"):alert("메일 보내기에 실패했습니다. 다시 시도해주세요!")})}),o(".contract").off("touch click").on("touch click",function(e){e.preventDefault();var n=o(this).parent().parent().next();""===n.html()&&n.html(o("<small></small>").html(o("#contractText").html())),n.data("scroll")||n.data("scroll",new PerfectScrollbar(n[0])),n.toggle()}),o("#copyEmail").on("touch click",function(e){e.preventDefault();var n=document.createRange();n.selectNodeContents(o(this)[0]);var i=window.getSelection?window.getSelection():document.selection;i.removeAllRanges(),i.addRange(n);var t="";return t=document.execCommand("copy")?"메일주소가 복사되었습니다.":"메일주소를 복사하지 못했습니다. 직접 선택하여 복사해주세요.",o(this).attr("title",t).tooltip({trigger:"manual",delay:{hide:1e3}}),o(this).tooltip("show"),setTimeout(function(){o("#copyEmail").attr("title","메일주소 복사").tooltip("dispose")},1500),i.empty?i.empty():i.removeAllRanges&&i.removeAllRanges(),!1}),o("#openInstagram").on("touch click",function(e){var n=o(this).attr("href"),i=navigator.userAgent.toLowerCase();return-1<i.indexOf("android")?(e.preventDefault(),navigator.app.loadUrl(n),!1):-1<i.indexOf("ipod")||-1<i.indexOf("iphone")||-1<i.indexOf("ipad")?(e.preventDefault(),window.open(n,"_system"),!1):void 0})}(jQuery);