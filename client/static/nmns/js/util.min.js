function toYYYYMMDD(t){var n=t.getMonth()+1+"",e=t.getDate()+"";return t.getFullYear()+(n.length<2?"0"+n:n)+(e.length<2?"0"+e:e)}var generateRandom=function(){for(var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=[],t=0;t<256;++t)i[t]=(t+256).toString(16).substr(1);function a(t){var n=0,e=i;return[e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]]].join("")}return n?function(){var t=new Uint8Array(16);return n(t),t[6]=15&t[6]|64,t[8]=63&t[8]|128,a(t)}:function(){for(var t,n=new Array(16),e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n[6]=15&n[6]|64,n[8]=63&n[8]|128,a(n)}}();function getColorFromBackgroundColor(t){return 125<Math.round((299*parseInt(t.substring(1,3),16)+587*parseInt(t.substring(3,5),16)+114*parseInt(t.substring(5,7),16))/1e3)?"#212121":"#ffffff"}function filterNonNumericCharacter(t){t.val(t.val().replace(/\D/g,""))}Array.prototype.remove=function(t,n){for(var e=0;e<this.length;)n(this[e],t)&&this.splice(e,1),++e;return this},Array.prototype.find||(Array.prototype.find=function(t){for(var n=0;n<this.length;){if(t(this[n]))return this[n];++n}}),Array.prototype.findIndex||(Array.prototype.findIndex=function(t){for(var n=0;n<this.length;){if(t(this[n]))return n;++n}return-1});var nonCharacter=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;function removeNonCharacter(t){return t.replace(nonCharacter,"")}function dashContact(t,n){return n||(n="-"),t?11===t.length?t.substring(0,3)+n+t.substring(3,7)+n+t.substring(7):10===t.length?t.substring(0,3)+n+t.substring(3,6)+n+t.substring(6):t:""}function findById(t,n){return t.id===n}function getCookie(t){for(var n=t+"=",e=document.cookie.split(";"),i=0;i<e.length;i++){for(var a=e[i];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(n))return a.substring(n.length,a.length)}}Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,o=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=r.length;return function(t){if("function"!=typeof t&&("object"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var n,e,i=[];for(n in t)a.call(t,n)&&i.push(n);if(o)for(e=0;e<u;e++)a.call(t,r[e])&&i.push(r[e]);return i}}());var notificationSetting,socketResponse=function(n,e,i,a){return function(t){t&&"response"===t.type?t.status?e&&e(t):(a||alert(n+"에 실패했습니다."+(t.message?"("+t.message+")":"")),i&&i(t)):!t||"push"!==t.type&&"alert"!==t.type?console.error(t):e&&e(t)}},snackbar=[];function showSnackBar(t){document.getElementById("floatingButton")&&document.getElementById("floatingButton").setAttribute("data-mfb-state","closed");var n=document.getElementById("snackbar");n?n.classList.contains("show")&&snackbar.push(t):((n=document.createElement("div")).setAttribute("id","snackbar"),n.classList.add("shadow"),document.getElementById("mainContents")?document.getElementById("mainContents").appendChild(n):document.getElementById("signupStepper")?document.getElementById("signupStepper").appendChild(n):document.body.appendChild(n)),n.innerHTML=t,n.classList.add("show"),setTimeout(function(){n.classList.remove("show"),0<snackbar.length&&showSnackBar(snackbar.splice(0,1)[0])},5e3)}function showNotification(n){if(notificationSetting||("Notification"in window&&("granted"===Notification.permission?notificationSetting="GRANTED":"default"===Notification.permission&&(notificationSetting="REQUESTING",Notification.requestPermission().then(function(t){"granted"===t?notificationSetting="GRANTED":(notificationSetting="DENIED",$.notifyDefaults({newest_on_top:!0,type:"minimalist",allow_dismiss:!0,delay:0,url:"#",element:"#notifications",icon_type:"class",onClosed:function(){var e=10;$("#notifications .alert").each(function(t,n){e+=n.getBoundingClientRect().height+10}),$("#notifications").height(e+"px"),""===$("#notifications").html()&&$("#notifications").hide()},template:'<div data-notify="container" class="col-12 alert alert-{0}" role="alert" data-id="'+n.id+'"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button><i data-notify="icon" class="img-circle float-left notification-icon"></i><span data-notify="title" class="notification-title">{1}</span><span data-notify="message" class="notification-body">{2}</span></div>'}))}))),"GRANTED"!==notificationSetting&&$.notifyDefaults({newest_on_top:!0,type:"minimalist",allow_dismiss:!0,delay:0,url:"#",element:"#notifications",icon_type:"class",onClosed:function(){var e=10;$("#notifications .alert").each(function(t,n){e+=n.getBoundingClientRect().height+10}),$("#notifications").height(e+"px")},template:'<div data-notify="container" class="col-12 alert alert-{0}" role="alert" data-id="'+n.id+'"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button><i data-notify="icon" class="img-circle float-left notification-icon"></i><span data-notify="title" class="notification-title">{1}</span><span data-notify="message" class="notification-body">{2}</span><a href="{3}" target="{4}" data-notify="url"></a></div>'})),n.data&&"cancel reserv"===n.data.type&&n.data.id&&n.data.manager&&NMNS.calendar.updateSchedule(n.data.id,n.data.manager,{raw:{status:"CUSTOMERCANCELED"}}),"GRANTED"===notificationSetting)try{return void(new Notification(n.title,{requireInteraction:!0,lang:"ko-KR",body:n.body,icon:"/nmns/img/favicon-32x32.png"}).onclick=function(t){t.preventDefault(),n.data&&n.data.url&&window.open(n.data.url,"_blank")})}catch(t){console.error(t)}$.notify({icon:"fas fa-bell",title:n.title,message:n.body,url:n.data&&n.data.url?n.data.url:"#"},{});var e=10;$("#notifications .alert").each(function(t,n){e+=n.getBoundingClientRect().height+10}),$("#notifications").height(e+"px")}var tester=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;function validateEmail(t){if(!t)return!1;if(254<t.length)return!1;if(!tester.test(t))return!1;var n=t.split("@");return!(64<n[0].length)&&!n[1].split(".").some(function(t){return 63<t.length})}function debounce(e,i,a){var o;return function(){var t=this,n=arguments;clearTimeout(o),o=setTimeout(function(){o=null,a||e.apply(t,n)},i),a&&!o&&e.apply(t,n)}}function getBackgroundColor(t){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),e=[Math.floor((parseInt(n[1],16)+255)/2).toString(16),Math.floor((parseInt(n[2],16)+255)/2).toString(16),Math.floor((parseInt(n[3],16)+255)/2).toString(16)];return n?"#"+(1===e[0].length?"0"+e[0]:e[0]+"")+(1===e[1].length?"0"+e[1]:e[1]+"")+(1===e[2].length?"0"+e[2]:e[2]+""):null}