function toYYYYMMDD(t){var e=t.getMonth()+1+"",n=t.getDate()+"";return t.getFullYear()+(e.length<2?"0"+e:e)+(n.length<2?"0"+n:n)}var generateRandom=function(){for(var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),r=[],t=0;t<256;++t)r[t]=(t+256).toString(16).substr(1);function o(t){var e=0,n=r;return[n[t[e++]],n[t[e++]],n[t[e++]],n[t[e++]],"-",n[t[e++]],n[t[e++]],"-",n[t[e++]],n[t[e++]],"-",n[t[e++]],n[t[e++]],"-",n[t[e++]],n[t[e++]],n[t[e++]],n[t[e++]],n[t[e++]],n[t[e++]]].join("")}return e?function(){var t=new Uint8Array(16);return e(t),t[6]=15&t[6]|64,t[8]=63&t[8]|128,o(t)}:function(){for(var t,e=new Array(16),n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),e[n]=t>>>((3&n)<<3)&255;return e[6]=15&e[6]|64,e[8]=63&e[8]|128,o(e)}}();function getColorFromBackgroundColor(t){return 125<Math.round((299*parseInt(t.substring(1,3),16)+587*parseInt(t.substring(3,5),16)+114*parseInt(t.substring(5,7),16))/1e3)?"#212121":"#ffffff"}function setInputFilter(e,n){["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach(function(t){e.addEventListener(t,function(){n(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")&&(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd))})})}Array.prototype.remove=function(t,e){for(var n=0;n<this.length;)e(this[n],t)&&this.splice(n,1),++n;return this},Array.prototype.find||(Array.prototype.find=function(t){for(var e=0;e<this.length;){if(t(this[e]))return this[e];++e}}),Array.prototype.findIndex||(Array.prototype.findIndex=function(t){for(var e=0;e<this.length;){if(t(this[e]))return e;++e}return-1}),Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};var nonCharacter=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;function removeNonCharacter(t){return t.replace(nonCharacter,"")}function dashContact(t,e){return e=e||"-",t?11===t.length?t.substring(0,3)+e+t.substring(3,7)+e+t.substring(7):10===t.length?t.substring(0,3)+e+t.substring(3,6)+e+t.substring(6):t:""}function findById(t,e){return t.id===e}function getCookie(t){for(var e=t+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}}Object.keys||(Object.keys=function(){var o=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=u.length;return function(t){if("function"!=typeof t&&("object"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var e,n,r=[];for(e in t)o.call(t,e)&&r.push(e);if(i)for(n=0;n<a;n++)o.call(t,u[n])&&r.push(u[n]);return r}}());var notificationSetting,socketResponse=function(e,n,r,o){return function(t){t&&"response"===t.type?t.status?n&&n(t):(o||alert(e+"에 실패했습니다."+(t.message?"("+t.message+")":"")),r&&r(t)):!t||"push"!==t.type&&"alert"!==t.type?console.error(t):n&&n(t)}},snackbar=[];function showSnackBar(t){var e=document.getElementById("snackbar");e?e.classList.contains("show")&&snackbar.push(t):((e=document.createElement("div")).setAttribute("id","snackbar"),e.classList.add("shadow"),document.getElementById("mainContents")?document.getElementById("mainContents").appendChild(e):document.getElementById("signupStepper")?document.getElementById("signupStepper").appendChild(e):document.body.appendChild(e)),e.innerHTML="<div>"+t+'</div><div class="close"><svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 13 13"><g id="x" transform="translate(0.5 0.5)"><path id="Path" d="M12,0,0,12" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" fill-rule="evenodd"/><path id="Path-2" data-name="Path" d="M0,0,12,12" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" fill-rule="evenodd"/></g></svg></div>',e.classList.add("show");var n=setTimeout(function(){e.classList.remove("show"),0<snackbar.length&&showSnackBar(snackbar.splice(0,1)[0])},5e3);$(e).on("touch click",".close",function(){clearTimeout(n),e.classList.remove("show"),0<snackbar.length&&showSnackBar(snackbar.splice(0,1)[0])})}function showNotification(e){if(notificationSetting||"Notification"in window&&("granted"===Notification.permission?notificationSetting="GRANTED":"default"===Notification.permission&&(notificationSetting="REQUESTING",Notification.requestPermission().then(function(t){notificationSetting="granted"===t?"GRANTED":"DENIED"}))),e.data&&"cancel reserv"===e.data.type&&e.data.id&&e.data.manager&&NMNS.calendar.updateSchedule(e.data.id,e.data.manager,{raw:{status:"CUSTOMERCANCELED"}}),"GRANTED"===notificationSetting)try{return void(new Notification(e.title,{requireInteraction:!0,lang:"ko-KR",body:e.body,icon:"/nmns/img/favicon-32x32.png"}).onclick=function(t){t.preventDefault(),e.data&&e.data.url&&window.open(e.data.url,"_blank")})}catch(t){console.error(t)}showSnackBar(e.body)}var tester=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;function validateEmail(t){if(!t)return!1;if(254<t.length)return!1;if(!tester.test(t))return!1;var e=t.split("@");return!(64<e[0].length)&&!e[1].split(".").some(function(t){return 63<t.length})}function debounce(n,r,o){var i;return function(){var t=this,e=arguments;clearTimeout(i),i=setTimeout(function(){i=null,o||n.apply(t,e)},r),o&&!i&&n.apply(t,e)}}function getBackgroundColor(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),n=[Math.floor((parseInt(e[1],16)+255)/2).toString(16),Math.floor((parseInt(e[2],16)+255)/2).toString(16),Math.floor((parseInt(e[3],16)+255)/2).toString(16)];return e?"#"+(1===n[0].length?"0"+n[0]:n[0]+"")+(1===n[1].length?"0"+n[1]:n[1]+"")+(1===n[2].length?"0"+n[2]:n[2]+""):null}function getTimeFormat(t){var e="";return e+=11<t.hour()?"오후 ":"오전 ",e+=t.format("hh:mm")}function parseTime(t){if("string"!=typeof t)return null;var e=/(오전|오후)\s?([\d]{2}):([\d]{2})/.exec(t);if(e){var n="";return"오후"===e[1]&&"12"!==e[2]?n+=""+(1*e[2]+12):n+=e[2],n+=e[3],moment(n,"HHmm").isValid()?n:null}return null}function swipedetect(t,e){var n,r,o,i=t,u=e||function(t){};i.addEventListener("touchstart",function(t){var e=t.changedTouches[0];"none",n=e.pageX,o=(new Date).getTime()},!1),i.addEventListener("touchend",function(t){var e=t.changedTouches[0];r=e.pageX-n,(new Date).getTime()-o<=300&&100<=Math.abs(r)&&u(r<0?"left":"right")},!1)}