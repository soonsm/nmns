function toYYYYMMDD(t){var n=t.getMonth()+1+"",i=t.getDate()+"";return t.getFullYear()+(n.length<2?"0"+n:n)+(i.length<2?"0"+i:i)}var generateRandom=function(){for(var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),e=[],t=0;t<256;++t)e[t]=(t+256).toString(16).substr(1);function o(t){var n=0,i=e;return[i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]]].join("")}return n?function(){var t=new Uint8Array(16);return n(t),t[6]=15&t[6]|64,t[8]=63&t[8]|128,o(t)}:function(){for(var t,n=new Array(16),i=0;i<16;i++)0==(3&i)&&(t=4294967296*Math.random()),n[i]=t>>>((3&i)<<3)&255;return n[6]=15&n[6]|64,n[8]=63&n[8]|128,o(n)}}();function getColorFromBackgroundColor(t){return 125<Math.round((299*parseInt(t.substring(1,3),16)+587*parseInt(t.substring(3,5),16)+114*parseInt(t.substring(5,7),16))/1e3)?"#212121":"#ffffff"}function filterNonNumericCharacter(t){t.val(t.val().replace(/\D/g,""))}function dashContact(t){return t?11===t.length?t.substring(0,3)+"-"+t.substring(3,7)+"-"+t.substring(7):10===t.length?t.substring(0,3)+"-"+t.substring(3,6)+"-"+t.substring(6):t:""}function findById(t,n){return t.id===n}function getCookie(t){for(var n=t+"=",i=document.cookie.split(";"),e=0;e<i.length;e++){for(var o=i[e];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(n))return o.substring(n.length,o.length)}}Array.prototype.remove=function(t,n){for(var i=0;i<this.length;)n(this[i],t)&&this.splice(i,1),++i;return this},Array.prototype.find||(Array.prototype.find=function(t){for(var n=0;n<this.length;){if(t(this[n]))return this[n];++n}}),Array.prototype.findIndex||(Array.prototype.findIndex=function(t){for(var n=0;n<this.length;){if(t(this[n]))return n;++n}return-1}),Object.keys||(Object.keys=function(){var o=Object.prototype.hasOwnProperty,a=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=r.length;return function(t){if("function"!=typeof t&&("object"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var n,i,e=[];for(n in t)o.call(t,n)&&e.push(n);if(a)for(i=0;i<s;i++)o.call(t,r[i])&&e.push(r[i]);return e}}());var notificationSetting,socketResponse=function(n,i,e,o){return function(t){t&&"response"===t.type?t.status?i&&i(t):(o||alert(n+"에 실패했습니다."+(t.message?"("+t.message+")":"")),e&&e(t)):!t||"push"!==t.type&&"alert"!==t.type?console.error(t):i&&i(t)}},snackbar=[];function showSnackBar(t){document.getElementById("floatingButton").setAttribute("data-mfb-state","closed");var n=document.getElementById("snackbar");n?n.classList.contains("show")&&snackbar.push(t):((n=document.createElement("div")).setAttribute("id","snackbar"),n.classList.add("shadow"),document.getElementById("mainContents").appendChild(n)),n.innerHTML=t,n.classList.add("show"),setTimeout(function(){n.classList.remove("show"),0<snackbar.length&&showSnackBar(snackbar.splice(0,1)[0])},5e3)}function showNotification(n){if(notificationSetting||("Notification"in window&&("granted"===Notification.permission?notificationSetting="GRANTED":"default"===Notification.permission&&(notificationSetting="REQUESTING",Notification.requestPermission().then(function(t){"granted"===t?notificationSetting="GRANTED":(notificationSetting="DENIED",$.notifyDefaults({newest_on_top:!0,type:"minimalist",allow_dismiss:!0,delay:0,url:"#",element:"#notifications",icon_type:"class",onClosed:function(){var i=10;$("#notifications .alert").each(function(t,n){i+=n.getBoundingClientRect().height+10}),$("#notifications").height(i+"px"),""===$("#notifications").html()&&$("#notifications").hide()},template:'<div data-notify="container" class="col-12 alert alert-{0}" role="alert" data-id="'+n.id+'"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button><i data-notify="icon" class="img-circle float-left notification-icon"></i><span data-notify="title" class="notification-title">{1}</span><span data-notify="message" class="notification-body">{2}</span></div>'}))}))),"GRANTED"!==notificationSetting&&$.notifyDefaults({newest_on_top:!0,type:"minimalist",allow_dismiss:!0,delay:0,url:"#",element:"#notifications",icon_type:"class",onClosed:function(){var i=10;$("#notifications .alert").each(function(t,n){i+=n.getBoundingClientRect().height+10}),$("#notifications").height(i+"px")},template:'<div data-notify="container" class="col-12 alert alert-{0}" role="alert" data-id="'+n.id+'"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button><i data-notify="icon" class="img-circle float-left notification-icon"></i><span data-notify="title" class="notification-title">{1}</span><span data-notify="message" class="notification-body">{2}</span><a href="{3}" target="{4}" data-notify="url"></a></div>'})),n.data&&"cancel reserv"===n.data.type&&n.data.id&&n.data.manager&&NMNS.calendar.updateSchedule(n.data.id,n.data.manager,{raw:{status:"CUSTOMERCANCELED"}}),"GRANTED"===notificationSetting)try{return void(new Notification(n.title,{requireInteraction:!0,lang:"ko-KR",body:n.body,icon:"/nmns/img/favicon-32x32.png"}).onclick=function(t){t.preventDefault(),n.data&&n.data.url&&window.open(n.data.url,"_blank")})}catch(t){console.error(t)}$.notify({icon:"fas fa-bell",title:n.title,message:n.body,url:n.data&&n.data.url?n.data.url:"#"},{});var i=10;$("#notifications .alert").each(function(t,n){i+=n.getBoundingClientRect().height+10}),$("#notifications").height(i+"px")}